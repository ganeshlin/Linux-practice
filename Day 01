Linux Task 1 â€“ Create Custom Apache User

Date: 09-Dec-2025
Server: stapp01 (App Server 1 â€“ Stratos Datacenter)
ğŸ¯ Objective

Create a custom Apache application user with:

Username: ammar

UID: 1045

Home Directory: /var/www/ammar

ğŸ“ Step-by-Step Commands
1. Create user (initial creation)
sudo useradd ammar


Verify:

id ammar
getent passwd ammar

2. Check if UID 1045 is free
getent passwd | awk -F: '$3==1045 {print $1":"$3}'

3. Assign UID 1045 to the user
sudo usermod -u 1045 ammar


Verify:

id ammar
getent passwd ammar

4. Create and assign custom home directory
sudo mkdir -p /var/www/ammar
sudo chown -R ammar:ammar /var/www/ammar
sudo chmod 755 /var/www/ammar

5. Set /var/www/ammar as userâ€™s new home
sudo usermod -d /var/www/ammar -m ammar


Verify final:

getent passwd ammar
ls -ld /var/www/ammar

âœ” Final Expected Output
ammar:x:1045:1045::/var/www/ammar:/bin/bash

ğŸ“Œ Notes

This user is intended for Apache-based application isolation.

Use /sbin/nologin shell for non-interactive users.

End of Task
